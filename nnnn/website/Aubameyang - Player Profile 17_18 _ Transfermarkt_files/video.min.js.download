(function(){var b;function f(a){return"undefined"===typeof a?"":a}function k(a){return"undefined"===typeof a?-1:Math.round(a)}function l(){function a(a){var d=(Math.random().toString(16)+"000000000").substr(2,8);return a?"-"+d.substr(0,4)+"-"+d.substr(4,4):d}return a(!1)+a(!0)+a(!0)+a(!1)}
function m(a){a+="=";for(var c=document.cookie.split(";"),d="",d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(a)){d=e.substring(a.length,e.length);if("undefined"==d)break;return decodeURIComponent(d)}}return""};function n(){this.ja=l();this.ka=window.location.href;this.referrer=document.referrer;this.la=(new Date).getTimezoneOffset()/-60;this.userAgent=navigator.userAgent};function p(a,c){this.O=a;this.f=c;this.b={type:"em.Wrapper.PlayerState.UNKNOWN"};this.N=0;this.j=this.c=!1;this.h=this.g=this.i=this.l=0;this.ma=l();this.m=l();this.a={};this.a.ready=[];this.a.play=[];this.a.pause=[];this.a.buffer=[];this.a.complete=[]}b=p.prototype;b.C=function(){return this.ma};b.D=function(){return"brightcove"};b.G=function(){return this.O.experience.type};
b.u=function(){var a=this.b.type,c="unknown";"templateReady"===a?c="idle":"mediaBufferBegin"===a?c="buffering":"mediaPlay"===a||"mediaBegin"===a?c="playing":"mediaStop"===a&&(c="paused");return c};b.H=function(){return this.c?this.f.length/1E3:-1};b.F=function(){return this.N};b.L=function(){return this.c?this.f.displayName:""};b.K=function(){return this.c?this.f.thumbnailURL:""};b.I=function(){return this.c?this.f.videoStillURL:""};b.s=function(a,c){this.a[a]&&this.a[a].push(c)};b.J=function(){return this.m};
b.o=function(){};b.M=function(){return this.l};b.B=function(){return this.i};b.w=function(){return this.g};b.A=function(){return this.h};b.v=function(){var a=this.b.type;if(!this.c&&(this.b.type="ready",!this.c)){this.c=!0;this.b={type:"templateReady"};for(var c=0;c<this.a.ready.length;c++)this.a.ready[c]("ready")}"mediaPlay"!==a&&"mediaBegin"!==a||this.l++;"mediaBufferBegin"===a&&this.g++;"mediaStop"===a&&this.i++;"templateReady"===a&&this.h++;this.o()};b.ha=function(a){this.N=a.position};
b.T=function(a){this.b=a;for(a=0;a<this.a.play.length;a++)this.a.play[a]("play");this.j&&(this.j=!1,this.h=this.g=this.i=this.l=0,this.m=l())};b.S=function(a){this.j=!0;this.b=a;for(a=0;a<this.a.complete.length;a++)this.a.complete[a]("complete")};b.U=function(a){this.b=a;for(a=0;a<this.a.pause.length;a++)this.a.pause[a]("pause")};function q(a){this.f=a;this.c={type:"em.Wrapper.PlayerState.UNKNOWN"};this.j=this.b=!1;this.h=this.g=this.i=this.l=0;this.N=l();this.m=l();this.a={};this.a.ready=[];this.a.play=[];this.a.pause=[];this.a.buffer=[];this.a.complete=[]}b=q.prototype;b.C=function(){return this.N};b.D=function(){return"brightcove"};b.G=function(){return this.f.experience.type};
b.u=function(){var a=this.c.type,c="unknown";"templateReady"===a?c="idle":"mediaBufferBegin"===a?c="buffering":"mediaPlay"===a||"mediaBegin"===a?c="playing":"mediaStop"===a&&(c="paused");return c};b.H=function(){return this.b?this.f.getVideoDuration():-1};b.F=function(){return this.b?this.f.getVideoPosition():-1};b.L=function(){return this.b?this.f.getCurrentVideo().displayName:""};b.K=function(){return this.b?this.f.getCurrentVideo().videoStillURL:""};
b.I=function(){return this.b?this.f.getCurrentVideo().FLVFullLengthURL:""};b.s=function(a,c){this.a[a]&&this.a[a].push(c)};b.J=function(){return this.m};b.o=function(){};b.M=function(){return this.l};b.B=function(){return this.i};b.w=function(){return this.g};b.A=function(){return this.h};
b.v=function(){var a=this.c.type;if(!this.b&&(this.c.type="ready",!this.b)){this.b=!0;this.c={type:"templateReady"};for(var c=0;c<this.a.ready.length;c++)this.a.ready[c]("ready")}"mediaPlay"!==a&&"mediaBegin"!==a||this.l++;"mediaBufferBegin"===a&&this.g++;"mediaStop"===a&&this.i++;"templateReady"===a&&this.h++;this.o()};b.W=function(a){this.c=a;for(a=0;a<this.a.play.length;a++)this.a.play[a]("play");this.j&&(this.j=!1,this.h=this.g=this.i=this.l=0,this.m=l())};
b.V=function(a){this.j=!0;this.c=a;for(a=0;a<this.a.complete.length;a++)this.a.complete[a]("complete")};b.X=function(a){this.c=a;for(a=0;a<this.a.pause.length;a++)this.a.pause[a]("pause")};function r(a){this.b=a;this.i=this.c=!1;this.g=this.f=this.h=this.j=0;this.m=l();this.l=l();this.a={};this.a.ready=[];this.a.play=[];this.a.pause=[];this.a.buffer=[];this.a.complete=[];this.b.on("ready",this.P.bind(this));this.b.on("play",this.$.bind(this));this.b.on("complete",this.Y.bind(this));this.b.on("pause",this.Z.bind(this))}b=r.prototype;b.C=function(){return this.m};b.D=function(){return"jwplayer7"};
b.G=function(){var a=this.b.getRenderingMode(),c="";"flash"===a?c="flash":"html5"===a&&(c="html5");return c};b.u=function(){var a=this.b.getState(),c="unknown";"idle"===a?c="idle":"buffering"===a?c="buffering":"playing"===a?c="playing":"paused"===a&&(c="paused");return c};b.H=function(){return this.c?this.b.getDuration():-1};b.F=function(){return this.c?this.b.getPosition():-1};b.L=function(){if(!this.c)return"";var a=this.b.getPlaylist()[this.b.getPlaylistIndex()];return a&&a.title?a.title:""};
b.K=function(){if(!this.c)return"";var a=this.b.getPlaylist()[this.b.getPlaylistIndex()];return a&&a.image?a.image:""};b.I=function(){if(!this.c)return"";var a=this.b.getPlaylist()[this.b.getPlaylistIndex()];return a&&a.file?a.file:""};b.s=function(a,c){this.a[a]&&this.a[a].push(c)};b.J=function(){return this.l};b.o=function(){};b.M=function(){return this.j};b.B=function(){return this.h};b.w=function(){return this.f};b.A=function(){return this.g};
b.v=function(){var a=this.b.getState();a&&!this.c&&this.P();"playing"===a&&this.j++;"buffering"===a&&this.f++;"paused"===a&&this.h++;"idle"===a&&this.g++;this.o()};b.P=function(){if(!this.c){this.c=!0;for(var a=0;a<this.a.ready.length;a++)this.a.ready[a]("ready")}};b.$=function(){for(var a=0;a<this.a.play.length;a++)this.a.play[a]("play");this.i&&(this.i=!1,this.g=this.f=this.h=this.j=0,this.l=l())};b.Y=function(){this.i=!0;for(var a=0;a<this.a.complete.length;a++)this.a.complete[a]("complete")};
b.Z=function(){for(var a=0;a<this.a.pause.length;a++)this.a.pause[a]("pause")};function t(a){this.b=a;this.i=this.c=!1;this.g=this.f=this.h=this.j=0;this.m=l();this.l=l();this.a={};this.a.ready=[];this.a.play=[];this.a.pause=[];this.a.buffer=[];this.a.complete=[];this.b.onReady(this.R.bind(this));this.b.onPlay(this.ca.bind(this));this.b.onComplete(this.aa.bind(this));this.b.onPause(this.ba.bind(this))}b=t.prototype;b.C=function(){return this.m};b.D=function(){return"jwplayer6"};
b.G=function(){var a=this.b.getRenderingMode,c="";"flash"===a?c="flash":"html5"===a&&(c="html5");return c};b.u=function(){var a=this.b.getState(),c="unknown";"IDLE"===a?c="idle":"BUFFERING"===a?c="buffering":"PLAYING"===a?c="playing":"PAUSED"===a&&(c="paused");return c};b.H=function(){return this.c?this.b.getDuration():-1};b.F=function(){return this.c?this.b.getPosition():-1};b.L=function(){if(!this.c)return"";var a=this.b.getPlaylist()[this.b.getPlaylistIndex()];return a&&a.title?a.title:""};
b.K=function(){if(!this.c)return"";var a=this.b.getPlaylist()[this.b.getPlaylistIndex()];return a&&a.image?a.image:""};b.I=function(){if(!this.c)return"";var a=this.b.getPlaylist()[this.b.getPlaylistIndex()];return a&&a.file?a.file:""};b.s=function(a,c){this.a[a]&&this.a[a].push(c)};b.J=function(){return this.l};b.o=function(){};b.M=function(){return this.j};b.B=function(){return this.h};b.w=function(){return this.f};b.A=function(){return this.g};
b.v=function(){var a=this.b.getState();a&&!this.c&&this.R();"PLAYING"===a&&this.j++;"BUFFERING"===a&&this.f++;"PAUSED"===a&&this.h++;"IDLE"===a&&this.g++};b.R=function(){if(!this.c){this.c=!0;for(var a=0;a<this.a.ready.length;a++)this.a.ready[a]("ready")}};b.ca=function(){for(var a=0;a<this.a.play.length;a++)this.a.play[a]("play");this.i&&(this.i=!1,this.g=this.f=this.h=this.j=0,this.l=l())};b.aa=function(){this.i=!0;for(var a=0;a<this.a.complete.length;a++)this.a.complete[a]("complete")};
b.ba=function(){for(var a=0;a<this.a.pause.length;a++)this.a.pause[a]("pause")};function u(a){this.O=a;this.b=null;this.f=!1;this.c="unknown";this.j=!1;this.h=this.g=this.i=this.l=0;this.N=l();this.m=l();this.a={};this.a.ready=[];this.a.play=[];this.a.pause=[];this.a.buffer=[];this.a.complete=[];this.O.addReadyCallback(this.da.bind(this))}b=u.prototype;
b.da=function(a){document.getElementById(a)?(this.f=!0,this.b=document.getElementById(a),this.b.kBind("playerStateChange.cb",this.ga.bind(this)),this.b.kBind("playerPlayEnd.cb",this.fa.bind(this)),this.c="idle"):console.warn("ktwrapper unable to get player by id: "+a);for(a=0;a<this.a.ready.length;a++)this.a.ready[a]("ready")};b.C=function(){return this.N};b.D=function(){return"kaltura"};b.G=function(){var a="";return a=this.b.evaluate("{isHTML5}")?"html5":"flash"};b.u=function(){return this.c};
b.H=function(){return this.f?k(this.b.evaluate("{mediaProxy.entry.duration}")):-1};b.F=function(){return this.f?k(this.b.evaluate("{video.player.currentTime}")):-1};b.L=function(){return this.f?f(this.b.evaluate("{mediaProxy.entry.name}")):""};b.K=function(){return this.f?f(this.b.evaluate("{mediaProxy.entry.thumbnailUrl}")):""};b.I=function(){return this.f?f(this.b.evaluate("{mediaProxy.entry.id}")):""};b.s=function(a,c){this.a[a]&&this.a[a].push(c)};b.J=function(){return this.m};b.o=function(){};
b.M=function(){return this.l};b.B=function(){return this.i};b.w=function(){return this.g};b.A=function(){return this.h};b.v=function(){if(this.f){var a=this.c;"playing"===a&&this.l++;"buffering"===a&&this.g++;"paused"===a&&this.i++;"idle"===a&&this.h++;this.o()}};
b.ga=function(a){if("uninitialized"===a)this.c="unknown";else if("ready"===a)this.c="idle";else if("playing"===a){this.c="playing";for(a=0;a<this.a.play.length;a++)this.a.play[a]("play");this.j&&(this.j=!1,this.h=this.g=this.i=this.l=0,this.m=l())}else if("paused"===a)for(this.c="paused",a=0;a<this.a.pause.length;a++)this.a.pause[a]("pause");else if("buffering"===a)for(this.c="buffering",a=0;a<this.a.buffer.length;a++)this.a.buffer[a]("buffer");else"playbackError"===a&&(this.c="unknown")};
b.fa=function(){this.j=!0;for(var a=0;a<this.a.complete.length;a++)this.a.complete[a]("complete")};function v(a,c){this.a=a;this.c=c;this.f=0;a.s("ready",this.b.bind(this,x));a.s("play",this.b.bind(this,y));a.s("pause",this.b.bind(this,z));a.s("buffer",this.b.bind(this,A));a.s("complete",this.b.bind(this,B))}
v.prototype.b=function(a){var c=this.a.u(),d={};d.fv=m("_em_vt");d.ft=m("_em_v");d.pu=this.c.ka;d.ru=this.c.referrer;d.tz=this.c.la;d.ua=this.c.userAgent;d.v_pid=this.c.ja;d.v_vtc=this.a.M();d.v_ptc=this.a.B();d.v_btc=this.a.w();d.v_itc=this.a.A();d.v_pid=this.a.C();d.v_pst=this.a.u();d.v_vid=this.a.J();d.v_vdn=this.a.H();d.v_vpd=this.a.F();d.v_vtl=this.a.L();d.v_vig=this.a.K();d.v_vfl=this.a.I();d.v_pln=this.a.D();d.v_rdm=this.a.G();d.v_urs=a;a=[];for(var e in d)null!==d[e]&&a.push(encodeURIComponent(e)+
"="+encodeURIComponent(d[e]));d="//s.effectivemeasure.net/d/6/video?"+a.join("&");(new Image).src=d;d=Date.now();"idle"===c?this.f=d+3E4:"buffering"===c?this.f=d+5E3:"playing"===c?this.f=d+5E3:"paused"===c&&(this.f=d+3E4)};v.prototype.v=function(a){this.a.v(a);a=Date.now();var c=this.a.u();a>=this.f&&"unknown"!==c&&"idle"!==c&&this.b(C)};var x="onReady",y="onPlay",z="onPause",A="onBuffer",B="onComplete",C="onTick";function D(a){this.b=!1;this.f=this.c=this.g=this.h=0;this.j=l();this.i=l();this.a={};this.a.ready=[];this.a.play=[];this.a.pause=[];this.a.buffer=[];this.a.complete=[];new window.YT.Player(a,{events:{onReady:this.ea.bind(this),onStateChange:this.ia.bind(this)}})}b=D.prototype;b.C=function(){return this.j};b.D=function(){return"youtube"};b.G=function(){return"HTML5"};
b.u=function(){var a=this.YT.getPlayerState(),c="unknown";-1===a?c="idle":3===a?c="buffering":1===a?c="playing":2===a&&(c="paused");return c};b.H=function(){return this.b?k(this.YT.getDuration()):-1};b.F=function(){return this.b?k(this.YT.getCurrentTime()):-1};b.L=function(){return this.b?f(this.YT.getVideoData().title):""};b.K=function(){return this.b?f(this.YT.getVideoUrl()):""};b.I=function(){return this.b?f(this.YT.getVideoData().video_id):""};b.s=function(a,c){this.a[a]&&this.a[a].push(c)};
b.J=function(){return this.i};b.o=function(){};b.M=function(){return this.h};b.B=function(){return this.g};b.w=function(){return this.c};b.A=function(){return this.f};b.v=function(){if(this.b){var a=this.u();"playing"===a&&this.h++;"buffering"===a&&this.c++;"paused"===a&&this.g++;"idle"===a&&this.f++;this.o()}};b.ea=function(a){if(!this.b)for(this.YT=a.target,this.b=!0,a=0;a<this.a.ready.length;a++)this.a.ready[a]("ready")};
b.ia=function(a){if(1===a.data)for(var c=0;c<this.a.play.length;c++)this.a.play[c]("play");if(2===a.data)for(c=0;c<this.a.pause.length;c++)this.a.pause[c]("pause");if(0===a.data){for(c=0;c<this.a.complete.length;c++)this.a.complete[c]("complete");this.f=this.c=this.g=this.h=0;this.i=l()}};function E(){var a=[];if("function"===typeof jwplayer)for(var c=0;;){var d=jwplayer(c);if("undefined"===typeof d.id)break;jwplayer.version.startsWith("6")&&a.push(new t(d));jwplayer.version.startsWith("7")&&a.push(new r(d));c++}window.kWidget&&window.kWidget.addReadyCallback&&a.push(new u(window.kWidget));this.a=a}
function F(a){var c=[],d=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(e,g);if(d){try{d.apply(window)}catch(h){}e=document.getElementsByTagName("iframe");for(g=0;g<e.length;g++)e[g].src.indexOf("www.youtube.com/embed/")&&c.push(new D(e[g]))}a(c)}}
function G(a){var c,d=[],e;window.onTemplateLoad=function(a){c=window.brightcove.getExperience(a);void 0===c&&(c=window.brightcove.api.getExperience(a),e=!0)};window.onTemplateReady=function(){var g=c.getModule(window.brightcove.api.modules.APIModules.VIDEO_PLAYER);if(e)g.getCurrentVideo(function(c){c=new p(g,c);g.addEventListener(window.brightcove.api.events.MediaEvent.COMPLETE,c.S.bind(c));g.addEventListener(window.brightcove.api.events.MediaEvent.PLAY,c.T.bind(c));g.addEventListener(window.brightcove.api.events.MediaEvent.STOP,
c.U.bind(c));g.addEventListener(window.brightcove.api.events.MediaEvent.PROGRESS,c.ha.bind(c));d.push(c);a(d)});else{var h=new q(g);g.addEventListener(window.brightcove.api.events.MediaEvent.COMPLETE,h.V.bind(h));g.addEventListener(window.brightcove.api.events.MediaEvent.PLAY,h.W.bind(h));g.addEventListener(window.brightcove.api.events.MediaEvent.STOP,h.X.bind(h));d.push(h);a(d)}}};(function(){function a(a){for(var c=0;c<a.length;c++)e.push(new v(a[c],d));var w=0;window.setInterval(function(){w++;for(var a=0;a<e.length;a++)e[a].v(w)},1E3)}var c=new E,d=new n,c=c.a,e=[];0!=c.length&&a(c);c=F(function(c){a(c)});c=G(function(c){a(c)})})();}).call(this);
